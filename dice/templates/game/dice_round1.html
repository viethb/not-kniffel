{%  extends 'game/base.html' %}

{% block content %}
    <h2>Spiel-ID: {{ game }}, Runde: {{ round }}, Spieler: {{ user }}</h2>

    <form action="" method="get" class="form-row">
        <input type="hidden" value={{ dice_to_keep|default:" " }} name="dice_to_keep"/>
        <input type="submit" class="btn btn-primary btn-xs" value="Würfeln" name="roll"/>
    </form>

    <table class="table table-striped" style="width: 20%">
    <thead class="thead-dark">
        <tr>
            <th>Einsen</th>
            {% if scores.ones < 1000 and scores.ones < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                <td>{{ scores.ones|add:number }}</td>
            {%  else %}
                <td></td>
                <td></td>
            {% endif %}
        </tr>
        <tr>
            <th>Zweien</th>
            {% if scores.twos < 1000 and scores.twos < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                <td>{{ scores.twos|add:number }}</td>
            {%  else %}
                <td></td>
                <td></td>
            {% endif %}
        </tr>
        <tr>
            <th>Dreien</th>
            {%  with score=scores.threes category='threes' %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Vieren</th>
            {%  with score=scores.fours %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Fünfen</th>
            {%  with score=scores.fives %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Sechsen</th>
            {%  with score=scores.sixes %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Bonus</th>
            {% if scores.bonus < 1000 %}
                <td>{{ scores.bonus|add:300 }}</td>
            {%  else %}
                <td></td>
            {% endif %}
        </tr>
        <tr>
            <th>Oben</th>
            {% if scores.upper_sum < 1000 %}
                <td>{{ scores.upper_sum|add:300 }}</td>
            {%  else %}
                <td></td>
            {% endif %}
        </tr>
        <tr>
            <th>Drilling</th>
            {%  with score=scores.triple %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Vierling</th>
            {%  with score=scores.quadruple %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Full House</th>
            {% with score=scores.fullhouse %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Kl. Straße</th>
            {%  with score=scores.small %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Gr. Straße</th>
            {%  with score=scores.big %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Kniffel</th>
            {%  with score=scores.kniffel %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Chance</th>
            {%  with score=scores.chance %}
                {% if score < 0 %} <!-- wenn bereits Punkte gespeichert wurden -->
                    <td>{{ score|add:number }}</td>
                {%  else %}
                    <td></td>
                    <td></td>
                {% endif %}
            {% endwith %}
        </tr>
        <tr>
            <th>Unten</th>
            {% if scores.lower_sum < 1000 %}
                <td>{{ scores.lower_sum|add:300 }}</td>
            {%  else %}
                <td></td>
            {% endif %}
        </tr>
        <tr>
            <th>Gesamt</th>
            {% if scores.final_sum < 1000 %}
                <td>{{ scores.final_sum|add:300 }}</td>
            {%  else %}
                <td></td>
            {% endif %}
        </tr>
    </thead>
    </table>
{% endblock %}